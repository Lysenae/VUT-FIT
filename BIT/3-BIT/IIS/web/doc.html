<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-2"/>
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Název zadání</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Daniel Klimaj <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xklima22@stud.fit.vutbr.cz">xklima22@stud.fit.vutbr.cz</a> -
		návrh a implementace back-endu
	</dd>
	<dd>Vojtìch Veèeøa <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xvecer18@stud.fit.vutbr.cz">xvecer18@stud.fit.vutbr.cz</a> - 
		návrh a implementace GUI + návrh databáze
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://xvecer18.php5.cz/">http://xvecer18.php5.cz/</a></dd>
	<dd><a href="http://xvecer18.php5.cz/login">http://xvecer18.php5.cz/login</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
<table>
<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>xadmin00</td><td>admin</td><td>Administrátor</td></tr>
<tr><td>xnovak90</td><td>personalista</td><td>Personalista</td></tr>
<tr><td>xpalka26</td><td>koordinator</td><td>Materiálový koordinátor</td></tr>
<tr><td>xvecer18</td><td>technik</td><td>Technik</td></tr>
<tr><td>xvesel19</td><td>zamestnanec</td><td>Zamìstnanec</td></tr>
</table>

<h2>Implementace</h2>
<p>IS je implemenován ve frameworcích Laravale 5.1 a Bootstrap</p>
<p>Skripty implemenetující funkcionalitu odpovídající use-case diagramu se nachází v
<i>/app/Http/</i>.</p>
<ul>
    <li>Správa zamìstnancù:
	<ul><li>Imlementováno v souboru <i> Zamestnanci.php</i></li></ul>
    </li>
    <li>Správa u¾ivatelù:
	<ul><li>Imlementováno v souborech <i>Zamestnanci.php</i> a <i>User.php</i></li></ul>
    </li>
    <li>Správa oddìlení:
	<ul><li>Imlementováno v souboru <i>Oddìlení.php</i></li></ul>
    </li>
    <li>Správa poruch:
	<ul><li>Imlementováno v souboru <i>Poruchy.php</i></li></ul>
    </li>
    <li>Správa pøesunù:
	<ul><li>Imlementováno v souboru <i>Presuny.php</i></li></ul>
    </li>
    <li>Správa výpoèetní techniky:
	<ul><li>Imlementováno v souboru <i>Zarizeni.php</i></li></ul>
    </li>
</ul>

<p>Role jsou nastavovány po pøihlá¹ení ve skriptu
<i>/app/Http/Controllers/Auth/AuthController.php</i>, a pou¾ity ve skriptu <i>/app/Http/routes.php</i>, kde je pro správu pøihlá¹ení a rolí pou¾it systém
Middleware poskytovaný s pou¾itým frameworkem roz¹íøený o obsluhovány skriptem
<i>/app/Http/Middleware/RoleMiddleware.php</i> implemtující s námi definovanými rolemi. Na základì rolí
jsou zpøístupnìny jednotlivé stránky v rámci webu. Upravování hlavního menu na základì rolí je
øe¹eno v souboru <i>/resources/view/layout/app.blade.php</i></p>

<p>V¹echny skripty starající se o výstupy a obsahující HTML a CSS kódy jsou umístìny ve slo¾ce
<i>/resources/views/</i>. Skripty zaèínající <b>add_</b> a <b>edit_</b> implementují formuláøe pro pøidání nebo editaci a
mazání záznamù. Zbylé skripty ve slo¾ce se starají o prezentaci dat ulo¾ených v databázi. V
podslo¾kách jsou skripty generující výstupy pøi chybách, pøihla¹ovací formuláø apod.</p>

<h4>Zmìny v návrhu:</h4>
<p>Správy u¾ivatelù a zamìstnancù byla spojeny, kvùli zjednodu¹ení orientace v systém a
zamezení problému typu, ¾e nevíme jestli chceme upravit u¾ivatele nebo zamìstnance. Byl taky
pozmìnìn návrh databáze. Byly zmìnìny nìkteré datové typy identifikátorù k ulehèení pou¾ití
<i>AUTO_INCREMENT</i> funkcionality a pøidány sloupce pro detekci "smazaných" záznamù (z dùvodu zachování
konzistence databáze nelze záznam pøímo mazat).</p>

<h2>Instalace</h2>
<ul>
    <li>Po¾adavky: </li>
    <ul>
	<li>Composer</li>
	<li>MySQL >= 5.6</li>
	<li>PHP >= 5.5.9</li>
	<li>OpenSSL PHP Extension</li>
	<li>PDO PHP Extension</li>
	<li>Mbstring PHP Extension</li>
	<li>Tokenizer PHP Extension</li>
    </ul>
    <li>Ve slo¾ce do ní¾ chceme umístit aplikaci provedeme:</li>
    <ol>
	<li><b>'composer create-project laravel/laravel ./'</b></li>
	<li>Extrahujeme soubor .zip a rozbalíme pomocí <b>'unzip nazev_soubor.zip'</b></li>
	<li>Poté si musíme vytvoøit novou MySQL databázi a naimportovat do ní soubor
	<b>'cvt.sql'</b> kódování zvolíme <b>utf-8</b></li>
	<li>Nyní je tøeba nastavit MySQL pøipojení vyplnìním polo¾ek v souboru <b>'.env'</b></li>
	<li>Následujícím krokem by mìlo být nastavení slo¾ky <b>'/storage'</b>, aby byla zapisovatelná</li>
	<li>Hotovo! Pokud je správnì nastaven pøístup k MySQL a fungují <b>.htaccess</b> soubory, tak by
	mìly být stránky funkèní</li>	
    </ol>
</ul>

<h2>Známé problémy</h2>
<p>Není implementována mo¾nost Tisk, která se vyskytuje v use-case diagramu. Takté¾ jsme
neimplementovali Pøehledy, proto¾e do znaèné míry lze pova¾ovat preprezentaci dat na stránkách jako 
pøehledy a jednalo by se tedy v dosti pøípadech o redundantní stránky. Poslední neimplementovanou
funkcí je Pøehled o èinnostech. Dùvodem neimplementování toho pøípadu u¾ití je ná¹ pocit, ¾e toto  
není potøeba reprezentovat jako webovou stránku a staèil by pro to obyèejný soubor.</p>

</body>
</html>
